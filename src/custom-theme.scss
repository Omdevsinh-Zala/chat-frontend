@use 'sass:map';
@use '@angular/material' as mat;

html {
  @include mat.theme(
    (
      color: (
        primary: mat.$azure-palette,
        tertiary: mat.$blue-palette,
      ),
      typography: Roboto,
      density: 0,
    )
  );
}

.azure-theme {
  @include mat.theme(
    (
      color: (
        primary: mat.$azure-palette,
        tertiary: mat.$blue-palette,
      ),
      typography: Roboto,
      density: 0,
    )
  );
}

.rose-theme {
  @include mat.theme(
    (
      color: (
        primary: mat.$red-palette,
      ),
    )
  );
}

.violet-theme {
  @include mat.theme(
    (
      color: (
        primary: mat.$violet-palette,
      ),
    )
  );
}

.spring-green-theme {
  @include mat.theme(
    (
      color: (
        primary: mat.$spring-green-palette,
      ),
    )
  );
}

.chartreuse-theme {
  @include mat.theme(
    (
      color: (
        primary: mat.$chartreuse-palette,
      ),
    )
  );
}

.orange-theme {
  @include mat.theme(
    (
      color: (
        primary: mat.$orange-palette,
      ),
    )
  );
}

.magenta-theme {
  @include mat.theme(
    (
      color: (
        primary: mat.$magenta-palette,
      ),
    )
  );
}

.cyan-theme {
  @include mat.theme(
    (
      color: (
        primary: mat.$cyan-palette,
      ),
    )
  );
}

.yellow-theme {
  @include mat.theme(
    (
      color: (
        primary: mat.$yellow-palette,
      ),
    )
  );
}

.blue-theme {
  @include mat.theme(
    (
      color: (
        primary: mat.$blue-palette,
      ),
    )
  );
}

.green-theme {
  @include mat.theme(
    (
      color: (
        primary: mat.$green-palette,
      ),
    )
  );
}

.red-theme {
  @include mat.theme(
    (
      color: (
        primary: mat.$red-palette,
      ),
    )
  );
}

// ---------------------------------------------------------
// CUSTOM THEMES (Material 3 Comprehensive Palettes)
// ---------------------------------------------------------

// --- Shared Base Palette (Error) ---
$_base-error: (
  0: #000000,
  10: #410002,
  20: #690005,
  30: #93000a,
  40: #ba1a1a,
  50: #de3730,
  60: #ff5449,
  70: #ff897d,
  80: #ffb4ab,
  90: #ffdad6,
  95: #ffedea,
  98: #fff8f7,
  99: #fffbff,
  100: #ffffff,
);

// --- Midnight Theme (Deep Blue) ---
$_midnight-primary: (
  0: #000000,
  10: #001b3d,
  20: #00305f,
  30: #004782,
  40: #005ea5,
  50: #0079ca,
  60: #0095f0,
  70: #49b0ff,
  80: #9bcbff,
  90: #d1e4ff,
  95: #e8f0ff,
  98: #f7f9ff,
  99: #fcfcff,
  100: #ffffff,
);
$_midnight-secondary: (
  0: #000000,
  10: #001d36,
  20: #003355,
  30: #004a75,
  40: #006295,
  50: #007bb6,
  60: #0096d7,
  70: #42b1f8,
  80: #93ccff,
  90: #cce5ff,
  95: #e5f1ff,
  98: #f2f9ff,
  99: #f9fcff,
  100: #ffffff,
);
$_midnight-neutral: (
  0: #000000,
  10: #1a1c1e,
  20: #2f3033,
  30: #46474a,
  40: #5d5e62,
  50: #76777a,
  60: #909194,
  70: #abaaaf,
  80: #c6c6ca,
  90: #e2e2e6,
  95: #f1f0f4,
  98: #f9f9fd,
  99: #fcfcff,
  100: #ffffff,
  4: #0e0e11,
  6: #131316,
  12: #201f22,
  17: #2a292d,
  22: #353438,
  24: #3a393c,
  87: #dcd9dd,
  92: #ebe7eb,
  94: #f0edf1,
  96: #f6f2f7,
);
$_midnight-neutral-variant: (
  0: #000000,
  10: #1b1b23,
  20: #303038,
  30: #46464f,
  40: #5e5e67,
  50: #777680,
  60: #90909a,
  70: #abaab4,
  80: #c7c5d0,
  90: #e4e1ec,
  95: #f2effa,
  98: #fbf8ff,
  99: #fffbff,
  100: #ffffff,
);

$midnight-palette: map.merge(
  $_midnight-primary,
  (
    secondary: $_midnight-secondary,
    neutral: $_midnight-neutral,
    neutral-variant: $_midnight-neutral-variant,
    error: $_base-error,
  )
);

// --- Sunset Theme (Warm Coral) ---
$_sunset-primary: (
  0: #000000,
  10: #331100,
  20: #552200,
  30: #773300,
  40: #ff5e3a,
  50: #ff7b5c,
  60: #ff987e,
  70: #ffb5a0,
  80: #ffd2c2,
  90: #ffede4,
  95: #fff5f0,
  98: #fff9f7,
  99: #fffbff,
  100: #ffffff,
);
$_sunset-secondary: (
  0: #000000,
  10: #2d1600,
  20: #4a2800,
  30: #693b00,
  40: #895000,
  50: #aa6600,
  60: #cd7d00,
  70: #f19500,
  80: #ffb85d,
  90: #ffe0be,
  95: #fff1e1,
  98: #fff8f2,
  99: #fffbff,
  100: #ffffff,
);
$_sunset-neutral: (
  0: #000000,
  10: #201a17,
  20: #352f2b,
  30: #4c4541,
  40: #655d58,
  50: #7e7570,
  60: #988f89,
  70: #b3a9a3,
  80: #cfc4be,
  90: #ecdfd9,
  95: #fbede7,
  98: #fff8f5,
  99: #fffbff,
  100: #ffffff,
  4: #0e0d0c,
  6: #131211,
  12: #201f1d,
  17: #2a2927,
  22: #353432,
  24: #3a3937,
  87: #dcd9d4,
  92: #ebe7e3,
  94: #f0ede9,
  96: #f6f2ee,
);
$_sunset-neutral-variant: (
  0: #000000,
  10: #251914,
  20: #3b2d28,
  30: #53433d,
  40: #6c5a54,
  50: #86726c,
  60: #a18c85,
  70: #bda69f,
  80: #d9c1b9,
  90: #f6ddd5,
  95: #ffede7,
  98: #fff8f5,
  99: #fffbff,
  100: #ffffff,
);

$sunset-palette: map.merge(
  $_sunset-primary,
  (
    secondary: $_sunset-secondary,
    neutral: $_sunset-neutral,
    neutral-variant: $_sunset-neutral-variant,
    error: $_base-error,
  )
);

// --- Forest Theme (Organic Green) ---
$_forest-primary: (
  0: #000000,
  10: #00210e,
  20: #00391c,
  30: #00522b,
  40: #0a6c3d,
  50: #2c8654,
  60: #48a16c,
  70: #63bd85,
  80: #7fd99f,
  90: #9af5ba,
  95: #bcffcf,
  98: #e6fff0,
  99: #f2fff6,
  100: #ffffff,
);
$_forest-secondary: (
  0: #000000,
  10: #00210b,
  20: #003916,
  30: #005224,
  40: #006d33,
  50: #008942,
  60: #00a651,
  70: #3bc36b,
  80: #61de83,
  90: #83fba2,
  95: #bcffcf,
  98: #e6fff0,
  99: #f2fff6,
  100: #ffffff,
);
$_forest-neutral: (
  0: #000000,
  10: #191c19,
  20: #2e312d,
  30: #454743,
  40: #5c5f5b,
  50: #757873,
  60: #8f928d,
  70: #aaada7,
  80: #c5c8c2,
  90: #e2e4de,
  95: #f0f3ec,
  98: #f8fbef,
  99: #fcfcf4,
  100: #ffffff,
  4: #0d0f0d,
  6: #121412,
  12: #1e201e,
  17: #282a28,
  22: #333533,
  24: #383a38,
  87: #dcded8,
  92: #ebede7,
  94: #f1f3ec,
  96: #f6f8f1,
);
$_forest-neutral-variant: (
  0: #000000,
  10: #171d16,
  20: #2b322a,
  30: #424940,
  40: #596157,
  50: #72796f,
  60: #8b9388,
  70: #a6ada2,
  80: #c1c9bc,
  90: #dde5d8,
  95: #ecf3eb,
  98: #f4fbf0,
  99: #f7fef3,
  100: #ffffff,
);

$forest-palette: map.merge(
  $_forest-primary,
  (
    secondary: $_forest-secondary,
    neutral: $_forest-neutral,
    neutral-variant: $_forest-neutral-variant,
    error: $_base-error,
  )
);

// --- Lavender Theme (Soft Violet) ---
$_lavender-primary: (
  0: #000000,
  10: #1b133d,
  20: #302854,
  30: #463f6c,
  40: #5d5685,
  50: #766f9f,
  60: #9088ba,
  70: #aba3d6,
  80: #c6bff2,
  90: #e3deff,
  95: #f1efff,
  98: #f9f8ff,
  99: #fcfcff,
  100: #ffffff,
);
$_lavender-secondary: (
  0: #000000,
  10: #1e133d,
  20: #332854,
  30: #493f6d,
  40: #615686,
  50: #796f9f,
  60: #9389ba,
  70: #ad93d6,
  80: #c9bff2,
  90: #e5deff,
  95: #f2efff,
  98: #faf8ff,
  99: #fdfcff,
  100: #ffffff,
);
$_lavender-neutral: (
  0: #000000,
  10: #1c1a20,
  20: #312f35,
  30: #48464b,
  40: #605d63,
  50: #78767c,
  60: #929096,
  70: #adaab0,
  80: #c8c5cb,
  90: #e5e1e7,
  95: #f3f0f6,
  98: #fcf8fe,
  99: #fffbff,
  100: #ffffff,
  4: #0e0e11,
  6: #131316,
  12: #201f22,
  17: #2a292d,
  22: #353438,
  24: #3a393c,
  87: #dcd9dd,
  92: #ebe7eb,
  94: #f0edf1,
  96: #f6f2f7,
);
$_lavender-neutral-variant: (
  0: #000000,
  10: #1c1a25,
  20: #312e3a,
  30: #484551,
  40: #5f5c6a,
  50: #787583,
  60: #928f9d,
  70: #adabb8,
  80: #c9c6d4,
  90: #e5e2f0,
  95: #f3f0fe,
  98: #fbf8ff,
  99: #fffbff,
  100: #ffffff,
);

$lavender-palette: map.merge(
  $_lavender-primary,
  (
    secondary: $_lavender-secondary,
    neutral: $_lavender-neutral,
    neutral-variant: $_lavender-neutral-variant,
    error: $_base-error,
  )
);

// --- Indigo Electric Theme (Vibrant Indigo) ---
$_indigo-primary: (
  0: #000000,
  10: #00006e,
  20: #1900a8,
  30: #3300ff,
  40: #4338ca,
  50: #4f46e5,
  60: #6366f1,
  70: #818cf8,
  80: #a5b4fc,
  90: #c7d2fe,
  95: #e0e7ff,
  98: #eef2ff,
  99: #f5f3ff,
  100: #ffffff,
);
$indigo-palette: map.merge(
  $_indigo-primary,
  (
    secondary: $_midnight-secondary,
    neutral: $_midnight-neutral,
    neutral-variant: $_midnight-neutral-variant,
    error: $_base-error,
  )
);

// --- Solar Citrus Theme (Bright Orange/Yellow) ---
$_solar-primary: (
  0: #000000,
  10: #2a1800,
  20: #482a00,
  30: #663d00,
  40: #855000,
  50: #a46400,
  60: #c77b00,
  70: #fbbf24,
  80: #fcd34d,
  90: #fde68a,
  95: #fef3c7,
  98: #fff9db,
  99: #fffbff,
  100: #ffffff,
);
$solar-palette: map.merge(
  $_solar-primary,
  (
    secondary: $_sunset-secondary,
    neutral: $_sunset-neutral,
    neutral-variant: $_sunset-neutral-variant,
    error: $_base-error,
  )
);

// --- Neon Mint Theme (Vivid Green/Cyan) ---
$_neon-primary: (
  0: #000000,
  10: #002111,
  20: #003920,
  30: #005230,
  40: #006d42,
  50: #008954,
  60: #00a667,
  70: #34d399,
  80: #6ee7b7,
  90: #a7f3d0,
  95: #d1fae5,
  98: #ecfdf5,
  99: #f0fff9,
  100: #ffffff,
);
$neon-palette: map.merge(
  $_neon-primary,
  (
    secondary: $_forest-secondary,
    neutral: $_forest-neutral,
    neutral-variant: $_forest-neutral-variant,
    error: $_base-error,
  )
);

// --- Berry Blast Theme (Intense Pink) ---
$_berry-primary: (
  0: #000000,
  10: #3f001d,
  20: #670032,
  30: #910048,
  40: #bc005f,
  50: #e91e63,
  60: #f06292,
  70: #f48fb1,
  80: #f8bbd0,
  90: #fce4ec,
  95: #ffebf1,
  98: #fff8f9,
  99: #fffbff,
  100: #ffffff,
);
$berry-palette: map.merge(
  $_berry-primary,
  (
    secondary: $_lavender-secondary,
    neutral: $_lavender-neutral,
    neutral-variant: $_lavender-neutral-variant,
    error: $_base-error,
  )
);

// --- Aurora Theme (Teal/Purple Mix) ---
$_aurora-primary: (
  0: #000000,
  10: #00201a,
  20: #00372e,
  30: #005044,
  40: #006b5b,
  50: #008672,
  60: #00a38c,
  70: #00c1a7,
  80: #00dec0,
  90: #00fada,
  95: #a0fff2,
  98: #dffffa,
  99: #f0fffd,
  100: #ffffff,
);
$aurora-palette: map.merge(
  $_aurora-primary,
  (
    secondary: $_lavender-secondary,
    neutral: $_lavender-neutral,
    neutral-variant: $_lavender-neutral-variant,
    error: $_base-error,
  )
);

// --- Cosmic Fusion (Purple/Magenta Gradient) ---
$_cosmic-primary: (
  0: #000000,
  10: #21005d,
  20: #381e72,
  30: #4f378b,
  40: #6750a4,
  50: #7f67be,
  60: #9a82d0,
  70: #b69df8,
  80: #d0bcff,
  90: #eaddff,
  95: #f6edff,
  98: #fff7ff,
  99: #fffbff,
  100: #ffffff,
);
$cosmic-palette: map.merge(
  $_cosmic-primary,
  (
    secondary: $_lavender-secondary,
    neutral: $_midnight-neutral,
    neutral-variant: $_midnight-neutral-variant,
    error: $_base-error,
  )
);

// --- Ocean Breeze (Teal/Mint Gradient) ---
$_ocean-primary: (
  0: #000000,
  10: #00201e,
  20: #003734,
  30: #00504b,
  40: #006a64,
  50: #00867d,
  60: #00a397,
  70: #33beb1,
  80: #5edacc,
  90: #7ff7e8,
  95: #bcfff5,
  98: #e6fffb,
  99: #f3fffd,
  100: #ffffff,
);
$ocean-palette: map.merge(
  $_ocean-primary,
  (
    secondary: $_forest-secondary,
    neutral: $_forest-neutral,
    neutral-variant: $_forest-neutral-variant,
    error: $_base-error,
  )
);

// --- Midnight Ember (Navy/Orange Gradient) ---
$_ember-primary: (
  0: #000000,
  10: #001945,
  20: #002e6a,
  30: #00458d,
  40: #005eb1,
  50: #0077d6,
  60: #0091fb,
  70: #4eb0ff,
  80: #a2c9ff,
  90: #d1e4ff,
  95: #e8f0ff,
  98: #f7f9ff,
  99: #fcfcff,
  100: #ffffff,
);
$ember-palette: map.merge(
  $_ember-primary,
  (
    secondary: $_sunset-secondary,
    neutral: $_midnight-neutral,
    neutral-variant: $_midnight-neutral-variant,
    error: $_base-error,
  )
);

// --- Tropical Sunset (Yellow/Pink Gradient) ---
$_tropical-primary: (
  0: #000000,
  10: #301400,
  20: #502400,
  30: #713500,
  40: #934700,
  50: #b65a00,
  60: #db6e00,
  70: #ff8400,
  80: #ffb16e,
  90: #ffdcc2,
  95: #ffede4,
  98: #fff8f5,
  99: #fffbff,
  100: #ffffff,
);
$tropical-palette: map.merge(
  $_tropical-primary,
  (
    secondary: $_berry-primary,
    neutral: $_sunset-neutral,
    neutral-variant: $_sunset-neutral-variant,
    error: $_base-error,
  )
);

// --- Cyberpunk (Blue/Purple Gradient) ---
$_cyber-primary: (
  0: #000000,
  10: #00006e,
  20: #0000ba,
  30: #0000ed,
  40: #3333ff,
  50: #5c5cff,
  60: #7a7aff,
  70: #9999ff,
  80: #b8b8ff,
  90: #d6d6ff,
  95: #e8e8ff,
  98: #f5f5ff,
  99: #fcfcff,
  100: #ffffff,
);
$cyber-palette: map.merge(
  $_cyber-primary,
  (
    secondary: $_indigo-primary,
    neutral: $_midnight-neutral,
    neutral-variant: $_midnight-neutral-variant,
    error: $_base-error,
  )
);

$_gpt-palettes: (
  primary: (
    0: #000000,
    10: #001c39,
    20: #00315c,
    25: #003c6f,
    30: #004883,
    35: #005497,
    40: #0060ab,
    50: #2979cb,
    60: #4b93e7,
    70: #6daeff,
    80: #a3c9ff,
    90: #d3e3ff,
    95: #ebf1ff,
    98: #f8f9ff,
    99: #fdfcff,
    100: #ffffff,
  ),
  secondary: (
    0: #000000,
    10: #1a0063,
    20: #2e009c,
    25: #3900ba,
    30: #441cc8,
    35: #512fd3,
    40: #5d3fe0,
    50: #765cfa,
    60: #917eff,
    70: #ac9fff,
    80: #c9bfff,
    90: #e5deff,
    95: #f4eeff,
    98: #fdf8ff,
    99: #fffbff,
    100: #ffffff,
  ),
  tertiary: (
    0: #000000,
    10: #321200,
    20: #532200,
    25: #642b00,
    30: #763300,
    35: #883c00,
    40: #9a4600,
    50: #bf5a09,
    60: #e07226,
    70: #ff8d43,
    80: #ffb68d,
    90: #ffdbc9,
    95: #ffede5,
    98: #fff8f6,
    99: #fffbff,
    100: #ffffff,
  ),
  neutral: (
    0: #000000,
    10: #191c1e,
    20: #2e3132,
    25: #393c3d,
    30: #444749,
    35: #505355,
    40: #5c5f60,
    50: #757779,
    60: #8f9193,
    70: #aaabad,
    80: #c5c6c8,
    90: #e1e2e4,
    95: #f0f1f3,
    98: #f8f9fb,
    99: #fbfcfe,
    100: #ffffff,
    4: #0c0f10,
    6: #111415,
    12: #1d2022,
    17: #282a2c,
    22: #323537,
    24: #37393b,
    87: #d9dadc,
    92: #e7e8ea,
    94: #edeef0,
    96: #f3f4f6,
  ),
  neutral-variant: (
    0: #3f587f,
    10: #3f587f,
    20: #3f587f,
    25: #3f587f,
    30: #3f587f,
    35: #3f587f,
    40: #3f587f,
    50: #3f587f,
    60: #3f587f,
    70: #3f587f,
    80: #3f587f,
    90: #3f587f,
    95: #3f587f,
    98: #3f587f,
    99: #3f587f,
    100: #3f587f,
  ),
  error: (
    0: #000000,
    10: #410002,
    20: #690005,
    25: #7e0007,
    30: #93000a,
    35: #a80710,
    40: #ba1a1a,
    50: #de3730,
    60: #ff5449,
    70: #ff897d,
    80: #ffb4ab,
    90: #ffdad6,
    95: #ffedea,
    98: #fff8f7,
    99: #fffbff,
    100: #ffffff,
  ),
);

$_gpt-rest: (
  secondary: map.get($_gpt-palettes, secondary),
  neutral: map.get($_gpt-palettes, neutral),
  neutral-variant: map.get($_gpt-palettes, neutral-variant),
  error: map.get($_gpt-palettes, error),
);

$gpt-primary-palette: map.merge(map.get($_gpt-palettes, primary), $_gpt-rest);
$gpt-tertiary-palette: map.merge(map.get($_gpt-palettes, tertiary), $_gpt-rest);

@function _high-contrast-value($light, $dark, $theme-type) {
  @if ($theme-type == light) {
    @return $light;
  }
  @if ($theme-type == dark) {
    @return $dark;
  }
  @if ($theme-type == color-scheme) {
    @return light-dark(#{$light}, #{$dark});
  }

  @error 'Unknown theme-type #{$theme-type}. Expected light, dark, or color-scheme';
}

@mixin high-contrast-overrides($theme-type) {
  @include mat.theme-overrides(
    (
      primary: _high-contrast-value(#002d55, #e9f0ff, $theme-type),
      on-primary: _high-contrast-value(#ffffff, #000000, $theme-type),
      primary-container: _high-contrast-value(#004a87, #9cc5ff, $theme-type),
      on-primary-container: _high-contrast-value(#ffffff, #000c1d, $theme-type),
      inverse-primary: _high-contrast-value(#a3c9ff, #004985, $theme-type),
      primary-fixed: _high-contrast-value(#004a87, #d3e3ff, $theme-type),
      primary-fixed-dim: _high-contrast-value(#003360, #a3c9ff, $theme-type),
      on-primary-fixed: _high-contrast-value(#ffffff, #000000, $theme-type),
      on-primary-fixed-variant: _high-contrast-value(#ffffff, #001227, $theme-type),
      secondary: _high-contrast-value(#2a0091, #f3edff, $theme-type),
      on-secondary: _high-contrast-value(#ffffff, #000000, $theme-type),
      secondary-container: _high-contrast-value(#4720ca, #c5baff, $theme-type),
      on-secondary-container: _high-contrast-value(#ffffff, #0a0037, $theme-type),
      secondary-fixed: _high-contrast-value(#4720ca, #e5deff, $theme-type),
      secondary-fixed-dim: _high-contrast-value(#3000a2, #c9bfff, $theme-type),
      on-secondary-fixed: _high-contrast-value(#ffffff, #000000, $theme-type),
      on-secondary-fixed-variant: _high-contrast-value(#ffffff, #100047, $theme-type),
      tertiary: _high-contrast-value(#4c1f00, #ffece4, $theme-type),
      on-tertiary: _high-contrast-value(#ffffff, #000000, $theme-type),
      tertiary-container: _high-contrast-value(#793500, #ffb183, $theme-type),
      on-tertiary-container: _high-contrast-value(#ffffff, #190600, $theme-type),
      tertiary-fixed: _high-contrast-value(#793500, #ffdbc9, $theme-type),
      tertiary-fixed-dim: _high-contrast-value(#562400, #ffb68d, $theme-type),
      on-tertiary-fixed: _high-contrast-value(#ffffff, #000000, $theme-type),
      on-tertiary-fixed-variant: _high-contrast-value(#ffffff, #220a00, $theme-type),
      background: _high-contrast-value(#f8f9fb, #111415, $theme-type),
      on-background: _high-contrast-value(#191c1e, #e1e2e4, $theme-type),
      surface: _high-contrast-value(#f8f9fb, #111415, $theme-type),
      surface-dim: _high-contrast-value(#b7b9bb, #111415, $theme-type),
      surface-bright: _high-contrast-value(#f8f9fb, #4e5052, $theme-type),
      surface-container-low: _high-contrast-value(#f0f1f3, #1d2022, $theme-type),
      surface-container-lowest: _high-contrast-value(#ffffff, #000000, $theme-type),
      surface-container: _high-contrast-value(#e1e2e4, #2e3132, $theme-type),
      surface-container-high: _high-contrast-value(#d3d4d6, #393c3d, $theme-type),
      surface-container-highest: _high-contrast-value(#c5c6c8, #444749, $theme-type),
      on-surface: _high-contrast-value(#000000, #ffffff, $theme-type),
      shadow: _high-contrast-value(#000000, #000000, $theme-type),
      scrim: _high-contrast-value(#000000, #000000, $theme-type),
      surface-tint: _high-contrast-value(#0060ab, #a3c9ff, $theme-type),
      inverse-surface: _high-contrast-value(#2e3132, #e1e2e4, $theme-type),
      inverse-on-surface: _high-contrast-value(#ffffff, #000000, $theme-type),
      outline: _high-contrast-value(#292d30, #edf0f5, $theme-type),
      outline-variant: _high-contrast-value(#464a4e, #c0c3c8, $theme-type),
      error: _high-contrast-value(#600004, #ffece9, $theme-type),
      on-error: _high-contrast-value(#ffffff, #000000, $theme-type),
      error-container: _high-contrast-value(#98000a, #ffaea4, $theme-type),
      on-error-container: _high-contrast-value(#ffffff, #220001, $theme-type),
      surface-variant: _high-contrast-value(#e0e3e8, #43474b, $theme-type),
      on-surface-variant: _high-contrast-value(#000000, #ffffff, $theme-type),
    )
  );
}

.gpt-theme {
  @include mat.theme(
    (
      color: (
        primary: $gpt-primary-palette,
        tertiary: $gpt-tertiary-palette,
      ),
    )
  );
  // @include high-contrast-overrides(color-scheme);
}

// --- Theme Class Definitions ---
.midnight-theme {
  @include mat.theme(
    (
      color: (
        primary: $midnight-palette,
      ),
    )
  );
}
.sunset-theme {
  @include mat.theme(
    (
      color: (
        primary: $sunset-palette,
      ),
    )
  );
}
.forest-theme {
  @include mat.theme(
    (
      color: (
        primary: $forest-palette,
      ),
    )
  );
}
.lavender-theme {
  @include mat.theme(
    (
      color: (
        primary: $lavender-palette,
      ),
    )
  );
}
.indigo-electric-theme {
  @include mat.theme(
    (
      color: (
        primary: $indigo-palette,
      ),
    )
  );
}
.solar-citrus-theme {
  @include mat.theme(
    (
      color: (
        primary: $solar-palette,
      ),
    )
  );
}
.neon-mint-theme {
  @include mat.theme(
    (
      color: (
        primary: $neon-palette,
      ),
    )
  );
}
.berry-blast-theme {
  @include mat.theme(
    (
      color: (
        primary: $berry-palette,
      ),
    )
  );
}
.aurora-theme {
  @include mat.theme(
    (
      color: (
        primary: $aurora-palette,
      ),
    )
  );
}

.cosmic-fusion-theme {
  @include mat.theme(
    (
      color: (
        primary: $cosmic-palette,
      ),
    )
  );
  --app-bg-gradient: linear-gradient(135deg, #13072e 0%, #3f2b96 50%, #a8c0ff 100%);
}
.ocean-breeze-theme {
  @include mat.theme(
    (
      color: (
        primary: $ocean-palette,
      ),
    )
  );
  --app-bg-gradient: linear-gradient(135deg, #0f2027 0%, #203a43 50%, #2c5364 100%);
}
.midnight-ember-theme {
  @include mat.theme(
    (
      color: (
        primary: $ember-palette,
      ),
    )
  );
  --app-bg-gradient: linear-gradient(135deg, #0f0c29 0%, #302b63 50%, #24243e 100%);
}
.tropical-sunset-theme {
  @include mat.theme(
    (
      color: (
        primary: $tropical-palette,
      ),
    )
  );
  --app-bg-gradient: linear-gradient(135deg, #fc00ff 0%, #00dbde 100%);
}
.cyberpunk-theme {
  @include mat.theme(
    (
      color: (
        primary: $cyber-palette,
      ),
    )
  );
  --app-bg-gradient: linear-gradient(135deg, #00c6ff 0%, #0072ff 100%);
}

// Universal Adaptive Glass Mode
.glass-theme {
  // Enhanced Glass Variables
  --glass-bg: color-mix(in srgb, var(--mat-sys-surface-container), transparent 40%);
  --glass-border: rgba(255, 255, 255, 0.2);
  --glass-blur: blur(12px) saturate(150%);
  --glass-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.1), inset 0 0 0 1px rgba(255, 255, 255, 0.05);
  --glass-edge: 1px solid var(--glass-border);

  // Redefine system surface tokens to propagate glass effect deeply
  --mat-sys-surface: var(--glass-bg);
  --mat-sys-surface-container: color-mix(in srgb, var(--glass-bg), transparent 10%);
  --mat-sys-surface-container-low: color-mix(in srgb, var(--glass-bg), transparent 20%);
  --mat-sys-surface-container-lowest: color-mix(in srgb, var(--glass-bg), transparent 30%);
  --mat-sys-surface-container-high: color-mix(in srgb, var(--glass-bg), white 5%);
  --mat-sys-surface-container-highest: color-mix(in srgb, var(--glass-bg), white 10%);
  --mat-sys-primary-container: color-mix(in srgb, var(--mat-sys-primary), transparent 80%);
  --mat-sys-secondary-container: color-mix(in srgb, var(--mat-sys-secondary), transparent 80%);
  --mat-sys-outline-variant: var(--glass-border);

  body {
    background: fixed
      linear-gradient(
        135deg,
        color-mix(in srgb, var(--mat-sys-primary), transparent 85%) 0%,
        color-mix(in srgb, var(--mat-sys-surface), transparent 95%) 50%,
        color-mix(in srgb, var(--mat-sys-tertiary), transparent 85%) 100%
      );
    // Overlay the theme's custom gradient if present with high transparency
    background-image: var(--app-bg-gradient),
      linear-gradient(
        135deg,
        color-mix(in srgb, var(--mat-sys-primary), transparent 85%) 0%,
        color-mix(in srgb, var(--mat-sys-surface), transparent 95%) 50%,
        color-mix(in srgb, var(--mat-sys-tertiary), transparent 85%) 100%
      );
    background-blend-mode: overlay;
    background-size: 200% 200%; // Reduced size for better performance
    animation: glass-gradient 20s ease infinite; // Slower animation
    will-change: background-position;

    &::before {
      content: '';
      position: fixed;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: radial-gradient(
        circle at 50% 50%,
        color-mix(in srgb, var(--mat-sys-primary), transparent 92%) 0%,
        transparent 50%
      );
      animation: aurora-float 25s infinite alternate-reverse;
      pointer-events: none;
      z-index: -1;
      will-change: transform;
      transform: translate3d(0, 0, 0);
    }
  }

  &.dark-theme {
    --glass-bg: color-mix(in srgb, var(--mat-sys-surface-container), transparent 60%);
    --glass-border: rgba(255, 255, 255, 0.1);
    --glass-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.5), inset 0 0 0 1px rgba(255, 255, 255, 0.05);

    body {
      background: fixed
        linear-gradient(
          135deg,
          color-mix(in srgb, var(--mat-sys-primary), black 70%) 0%,
          #000000 50%,
          color-mix(in srgb, var(--mat-sys-tertiary), black 70%) 100%
        );
    }
  }

  // Deep Premium Glass Application
  .mat-drawer,
  .mat-drawer-container,
  .mat-drawer-content,
  .mat-mdc-card,
  .mat-mdc-menu-panel,
  .glass-card,
  .mat-mdc-dialog-container .mdc-dialog__surface,
  .mat-mdc-dialog-content {
    background-color: var(--glass-bg) !important;
    backdrop-filter: var(--glass-blur) !important;
    -webkit-backdrop-filter: var(--glass-blur) !important;
    border: var(--glass-edge) !important;
    box-shadow: var(--glass-shadow) !important;
    background-image: none !important;
    transform: translateZ(0); // Trigger hardware acceleration
    will-change: backdrop-filter;
  }

  // Remove redundant borders and backgrounds in nested containers
  .mat-drawer-content,
  .mat-mdc-dialog-content {
    background-color: transparent !important;
    backdrop-filter: none !important;
    -webkit-backdrop-filter: none !important;
    border: none !important;
    box-shadow: none !important;
  }

  .mat-drawer {
    border: 0 !important;
    box-shadow: none !important;
  }

  // Better Buttons in Glass Mode
  .mat-mdc-button-base:not(.mat-mdc-raised-button) {
    backdrop-filter: blur(5px);
    border: 1px solid rgba(255, 255, 255, 0.1);
  }
}

@keyframes aurora-float {
  0% {
    transform: translate3d(0, 0, 0) rotate(0deg);
  }
  100% {
    transform: translate3d(2%, 5%, 0) rotate(5deg); // Reduced movement range
  }
}

@keyframes glass-gradient {
  0% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
  100% {
    background-position: 0% 50%;
  }
}

body {
  background-color: var(--mat-sys-surface);
  background-image: var(--app-bg-gradient, none);
  background-attachment: fixed;
  color: var(--mat-sys-on-surface);
  font: var(--mat-sys-body-medium);
  margin: 0;
  transition: background 0.5s ease;

  // Default component backgrounds when not in glass mode
  &:not(.glass-theme) {
    .mat-drawer {
      background-color: var(--mat-sys-primary-container);
    }
  }
  * {
    &::-webkit-scrollbar {
      width: 6px;
      height: 6px;
    }
    &::-webkit-scrollbar-track {
      background: transparent;
    }
    &::-webkit-scrollbar-thumb {
      background: color-mix(in srgb, var(--mat-sys-primary), transparent 70%);
      border-radius: 10px;
      &:hover {
        background: var(--mat-sys-primary);
      }
    }
    scrollbar-width: thin;
    scrollbar-color: color-mix(in srgb, var(--mat-sys-primary), transparent 70%) transparent;
  }
}

html {
  color-scheme: light dark;
  &.dark-theme {
    color-scheme: dark;
  }
  &.light-theme {
    color-scheme: light;
  }
}
