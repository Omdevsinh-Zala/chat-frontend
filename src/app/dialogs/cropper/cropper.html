<h2 mat-dialog-title>Image preview</h2>
<mat-dialog-content>
  <div class="w-full flex-col sm:flex-row flex gap-4">
    <div class="w-full sm:w-1/2 bg-transparent relative h-[200px] sm:h-[300px] lg:h-[400px] flex shrink-0 justify-center sm:justify-start">
      @if (loading()) {
        <div class="absolute z-10 inset-0 w-full h-full bg-black/15 flex justify-center items-center">
          <mat-progress-spinner diameter="40" mode="indeterminate"></mat-progress-spinner>
        </div>
      }
      <image-cropper
        [imageFile]="imageFile"
        [maintainAspectRatio]="true"
        [aspectRatio]="1"
        [roundCropper]="true"
        format="webp"
        (startCropImage)="startCropping()"
        (imageCropped)="imageCropped($event)"
        (cropperReady)="cropperReady()"
        (loadImageFailed)="loadImageFailed()"
      ></image-cropper>
    </div>
    <div class="w-full sm:w-1/2 flex shrink-0 justify-center sm:justify-start rounded-full">
      <div class="w-48 h-48 relative rounded-full">
        @if (isImageCropping()) {
          <div class="absolute z-10 inset-0 w-full h-full bg-black/15 flex justify-center items-center rounded-full">
            <mat-progress-spinner diameter="30" mode="indeterminate"></mat-progress-spinner>
          </div>
        }
        <img
          class="absolute inset-0 w-full h-full object-cover rounded-full"
          [src]="croppedImage"
        />
      </div>
    </div>
  </div>
</mat-dialog-content>
<mat-dialog-actions align="end">
  <button matButton="tonal" (click)="close()">Save</button>
  <button matButton="tonal" mat-dialog-close>Close</button>
</mat-dialog-actions>
