<div class="p-4 flex flex-col md:flex-row h-dvh w-full bg-(--mat-sys-surface) overflow-y-auto" [class.h-[calc(100dvh-82px)]!]="responsive.isTabletForBase()">
  <div class="w-full md:w-1/5 h-auto md:h-full relative mb-4 md:mb-0">
    <div class="flex flex-col gap-4 sticky top-0">
      <h2 class="text-xl">Sort By</h2>
      <mat-radio-group
        (ngModelChange)="onSortOrderChange($event)"
        class="flex flex-row md:flex-col items-start gap-4"
        aria-labelledby="Radio group for sortin order of files"
        [(ngModel)]="sort"
      >
        @for (season of sortOrder; track season) {
        <mat-radio-button [value]="season">{{ season }}</mat-radio-button>
        }
      </mat-radio-group>
    </div>
  </div>
  <div class="w-full md:w-4/5">
    <table mat-table [dataSource]="filesData()">
      <ng-container matColumnDef="files">
        <th mat-header-cell *matHeaderCellDef class="px-2 md:px-4">Files</th>
        <td mat-cell *matCellDef="let element" class="px-0 md:px-4">
          <div class="w-full flex items-center gap-2 p-2 md:p-4">
            <div class="w-12 h-12 relative pb-12">
              @if(element.file_type === "image") {
              <img
                [src]="element.file_url | imageUrl"
                alt="Files"
                class="absolute rounded-md inset-0 w-full h-full object-contain"
              />
              } @if(element.file_type === "video") {
              <video
                [poster]="element.thumbnail_url | imageUrl"
                [src]="element.file_url | imageUrl"
                alt="Files"
                class="absolute rounded-md inset-0 w-full h-full object-contain"
              ></video>
              } @if(element.file_type === "pdf") {
              <mat-icon>picture_as_pdf</mat-icon>
              }
            </div>
            <div class="flex flex-col gap-2">
              <span>{{ element.file_name }}</span>
              <span>{{ (element.file_size / 1024 / 1024).toFixed(2) }} MB</span>
            </div>
          </div>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
    </table>
    <mat-paginator
      [length]="resultsLength()"
      [pageSize]="15"
      aria-label="Select page of searched files"
    ></mat-paginator>
  </div>
</div>
