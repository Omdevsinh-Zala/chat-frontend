<div
  class="p-4 flex flex-col md:flex-row h-dvh w-full bg-(--mat-sys-surface) overflow-y-auto"
  [class.h-[calc(100dvh-82px)]!]="responsive.isTabletForBase()"
>
  <div class="w-full md:w-1/5 h-auto md:h-full relative mb-4 md:mb-0">
    <div class="flex flex-col gap-4 sticky top-0">
      <h2 class="text-xl">Sort By</h2>
      <mat-radio-group
        (ngModelChange)="onSortOrderChange($event)"
        class="flex flex-row md:flex-col items-start gap-4"
        aria-labelledby="Radio group for sortin order of files"
        [(ngModel)]="sort"
      >
        @for (season of sortOrder; track season) {
        <mat-radio-button [value]="season">{{ season }}</mat-radio-button>
        }
      </mat-radio-group>
    </div>
  </div>
  <div class="w-full md:w-4/5">
    <mat-form-field class="w-full" appearance="outline">
      <input matInput placeholder="Ex. Ghost" [formField]="searchForm.search" />
    </mat-form-field>
    <table mat-table [dataSource]="channelsData()">
      <ng-container matColumnDef="channels">
        <th mat-header-cell *matHeaderCellDef class="px-2 md:px-4">Channels</th>
        <td mat-cell *matCellDef="let element" class="px-0 md:px-4">
          <div class="w-full p-0 xs:p-2">
            <button
              matRipple
              class="py-4 px-0 w-full sm:px-4 flex items-center sm:gap-4 gap-2 hover:cursor-pointer select-none"
              (click)="openChannelDetail(element.id)"
            >
              <img
                [src]="imagePath + 'profileImages/' + element.avatar_url"
                class="w-8 h-8 md:w-12 md:h-12 rounded-full"
                alt="User Image"
              />
              <div>
                <h2 class="font-bold text-start lg:text-lg md:text-base text-xs text-ellipsis line-clamp-1 w-11/12">{{ element.title }}
                  @if(element.isMember) {
                  <span class="text-(--mat-sys-primary) font-medium">(Already joined)</span>
                  }
                </h2>
                <p
                  class="text-sm text-start text-ellipsis line-clamp-1 w-11/12"
                >
                  {{ element.description }}
                </p>
              </div>
            </button>
          </div>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
    </table>
    <mat-paginator
      [length]="resultsLength()"
      [pageSize]="15"
      aria-label="Select page of searched files"
    ></mat-paginator>
  </div>
</div>
