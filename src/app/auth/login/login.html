<form class="p-3 w-96 flex gap-4 flex-col" (submit)="login()">
  <h1 class="mx-auto text-3xl dark:text-white">Login</h1>
  <div class="flex flex-col gap-7 w-full">
    <div class="relative">
      <input
        class="transition-all duration-200 peer outline-none border dark:text-white dark:bg-slate-800 focus:border-slate-400 dark:focus:border-slate-300 w-full rounded-md p-3 focus:ring-2 focus:ring-slate-200 dark:focus:ring-slate-100"
        type="email"
        autocomplete="new-password"
        [field]="loginForm.email"
        #email
      />
      <label class="label" [class.float-label]="loginForm.email().value().trim() !== ''"
        >Email<span
          class="ps-0.5"
          [class.text-pink-600]="loginForm.email().required() || loginForm.email().invalid()"
          [class.peer-focus\:text-inherit]="loginForm.email().required() || loginForm.email().invalid()"
          >*</span
        ></label
      >
      @if (loginForm.email().required()) {
      <div class="form-error-msg">Please enter email.</div>
      } @if (loginForm.email().invalid()) {
      <div class="form-error-msg">Please enter valid email.</div>
      }
    </div>
    <div class="relative">
      @if (!showPass()) {
        <input
          class="..."
          type="password"
          autocomplete="new-password"
          [field]="loginForm.password"
          #password
        />
      }
      @else {
        <input
          class="..."
          type="text"
          autocomplete="new-password"
          [field]="loginForm.password"
          #password
        />
      }
      <label
        class="label"
        [class.float-label]="loginForm.password().value().trim() !== ''"
        [class.text-pink-600]="loginForm.password().required() || !!loginForm.password().minLength?.() || !!loginForm.password().maxLength?.()"
        [class.peer-focus:text-inherit]="loginForm.password().required() || !!loginForm.password().minLength?.() || !!loginForm.password().maxLength?.()"
        >Password<span class="ps-0.5">*</span></label
      >
      <button
        class="transition-all duration-200 absolute right-2 top-1/2 -translate-y-3"
        role="button"
        type="button"
        (click)="showPass.set(!showPass())"
      >
        <mat-icon>{{ showPass() ? 'visibility' : 'visibility_off' }}</mat-icon>
      </button>
      @if (loginForm.password().required()) {
      <div class="form-error-msg">Please enter Password.</div>
      } @if (!!loginForm.password().minLength?.()) {
      <div class="form-error-msg">Password must be at least 8 characters long.</div>
      } @if (!!loginForm.password().maxLength?.()) {
      <div class="form-error-msg">Password must not exceed 16 characters.</div>
      }
    </div>
    <a
      class="transition-colors duration-200 hover:text-sky-700 text-sky-500 underline underline-offset-2"
      routerLink="/forgot_password"
      >Forget Password?</a
    >
    <button
      class="transition-all duration-200 border h-[42px] dark:text-white dark:bg-slate-500 dark:hover:bg-slate-600 rounded-md py-2 text-black border-slate-400 bg-slate-200 hover:bg-slate-300 hover:disabled:cursor-not-allowed"
      type="submit"
      role="button"
      [disabled]="!loginForm().valid || loginProcess()"
      [matTooltip]="!loginForm().valid ? 'Fill the above fields first' : ''"
    >
      @if(loginProcess()) {
      <mat-spinner class="mx-auto !h-6 !w-6"></mat-spinner>
      } @else { Submit }
    </button>
  </div>
  <p class="text-center">
    Don't have an account ?&nbsp;<a
      class="transition-colors duration-200 hover:text-sky-700 text-sky-500 underline underline-offset-2"
      routerLink="/register"
      >Register here.</a
    >
  </p>
</form>
